[2025-04-27 15:26:14] Starting robot systems initialization...
[2025-04-27 15:26:14] Setting up ultrasound sensors...
[2025-04-27 15:26:14] Setting up Ultrasound GPIO pins...
[2025-04-27 15:26:15] Ultrasound GPIO setup complete.
[2025-04-27 15:26:15] Ultrasound sensors set up.
[2025-04-27 15:26:15] Initializing IMU...
[2025-04-27 15:26:15] Initializing IMU...
[2025-04-27 15:26:15] Calibrating gyro bias. Keep robot completely still...
[2025-04-27 15:26:17] Gyro bias Z calibrated: -23.4300
[2025-04-27 15:26:17] IMU initialized successfully.
[2025-04-27 15:26:17] IMU initialized.
[2025-04-27 15:26:17] Initializing QMC5883L...
[2025-04-27 15:26:17] Initializing QMC5883L...
[2025-04-27 15:26:17] QMC5883L initialized successfully.
[2025-04-27 15:26:17] QMC5883L initialized successfully.
[2025-04-27 15:26:17] Starting Lidar...
[2025-04-27 15:26:17] Attempting to start Lidar at /dev/rplidar with baud rate 115200...
[2025-04-27 15:26:17] Attempting to stop Lidar...
[2025-04-27 15:26:17] Signal sent to Lidar thread to stop.
[2025-04-27 15:26:17] Lidar object was not initialized.
[2025-04-27 15:26:18] Lidar thread: Started scanning loop.
[2025-04-27 15:26:18] Lidar initialized and data collection thread started.
[2025-04-27 15:26:18] Initialization complete.
[2025-04-27 15:26:18] Performing initial heading check and rotation...
[2025-04-27 15:26:18] Current heading: 263.4�
[2025-04-27 15:26:18] Executing rotation of 96.6�...
[2025-04-27 15:26:18] Error during initial heading rotation: module 'compass_module' has no attribute 'compass_initialized'
[2025-04-27 15:26:18] Starting continuous forward movement loop...
[2025-04-27 15:26:24] --- Obstacle detected! Stopping and planning avoidance ---
[2025-04-27 15:26:24] US 1 triggered: Turning Right (+45�)
[2025-04-27 15:26:24] Executing turn of 45�...
[2025-04-27 15:26:24] Starting rotation (gyro): 45.00 
[2025-04-27 15:26:34] Warning: rotate_by_gyro timed out after 10.50s. Target: 45.00 , Reached: -261.23 , Remaining Error: 306.23 .
[2025-04-27 15:26:34] Avoidance maneuver completed.
[2025-04-27 15:26:35] Resuming forward movement...
[2025-04-27 15:26:41] --- Obstacle detected! Stopping and planning avoidance ---
[2025-04-27 15:26:41] US 1 triggered: Turning Right (+45�)
[2025-04-27 15:26:41] Executing turn of 45�...
[2025-04-27 15:26:41] Starting rotation (gyro): 45.00 
[2025-04-27 15:26:52] Warning: rotate_by_gyro timed out after 10.51s. Target: 45.00 , Reached: -261.45 , Remaining Error: 306.45 .
[2025-04-27 15:26:52] Avoidance maneuver completed.
[2025-04-27 15:26:52] Resuming forward movement...
[2025-04-27 15:26:56] --- Obstacle detected! Stopping and planning avoidance ---
[2025-04-27 15:26:56] Fallback triggered (LiDAR/Both Front US/Back US). Using alternating rotation.
[2025-04-27 15:26:56] Fallback turn: +25�
[2025-04-27 15:26:56] Executing turn of 25�...
[2025-04-27 15:26:56] Starting rotation (gyro): 25.00 
[2025-04-27 15:27:06] Warning: rotate_by_gyro timed out after 10.51s. Target: 25.00 , Reached: -244.04 , Remaining Error: 269.04 .
[2025-04-27 15:27:06] Avoidance maneuver completed.
[2025-04-27 15:27:07] Resuming forward movement...
[2025-04-27 15:27:12] --- Obstacle detected! Stopping and planning avoidance ---
[2025-04-27 15:27:12] US 1 triggered: Turning Right (+45�)
[2025-04-27 15:27:12] Executing turn of 45�...
[2025-04-27 15:27:12] Starting rotation (gyro): 45.00 
[2025-04-27 15:27:18] Program interrupted by user (Ctrl+C).
[2025-04-27 15:27:18] Cleaning up before exit...
[2025-04-27 15:27:18] Cleaning up GPIO for ultrasound...
[2025-04-27 15:27:18] Ultrasound GPIO cleanup complete.
[2025-04-27 15:27:18] Attempting to stop Lidar...
[2025-04-27 15:27:18] Signal sent to Lidar thread to stop.
[2025-04-27 15:27:18] Waiting for Lidar thread to join...
[2025-04-27 15:27:18] Lidar thread joined successfully.
[2025-04-27 15:27:18] Stopping Lidar motor...
[2025-04-27 15:27:18] Disconnecting Lidar serial port...
[2025-04-27 15:27:24] Lidar disconnected.
[2025-04-27 15:27:24] Cleanup completed. Program finished.
[2025-04-27 15:27:24] Cleaning up before exit...
[2025-04-27 15:27:24] Cleaning up GPIO for ultrasound...
[2025-04-27 15:27:24] Ultrasound GPIO cleanup complete.
[2025-04-27 15:27:24] Attempting to stop Lidar...
[2025-04-27 15:27:24] Signal sent to Lidar thread to stop.
[2025-04-27 15:27:24] Lidar object was not initialized.
[2025-04-27 15:27:24] Cleanup completed. Program finished.
